<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link src="../css/style.css" rel="stylesheet" type="text/css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <style>

        a {
            text-decoration: none;
        }

        a:hover {
            text-decoration: none;
            color: darkblue;
        }
    </style>

    <script>

    </script>

</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>


<header>
    <div class="col-sm-12">
        <div class="row d-flex align-items-center w-100" style="font-size:18px">
            <a th:href="@{/}" class="col-sm-1" style="width: 10%">
                <div style="height:5em; width: 100%;">
                    <img th:src="@{/images/ttcgroup.png}" class="w-100 h-100" alt="LOGO TTCGROUP">
                </div>
            </a>
            <div class="col-sm-1 d-flex align-items-center" style="height:5em; width: 12%;">
                <a th:href="@{/nha-dat-ban}">Nhà đất cần bán</a></div>
            <div class="col-sm-1 d-flex align-items-center" style="height:5em; width: 12%;">
                <a th:href="@{/nha-dat-cho-thue}" class="align-middle">Nhà đất cho thuê</a></div>
            <div class="col-sm-1 d-flex align-items-center" style="height:5em; float: right; left: 38em;">
                <a type="button" class="btn btn-outline-primary" th:href="@{/dang-tin-nha-dat}">Đăng Tin</a>
            </div>
            <div class="col-sm-1 d-flex align-items-center justify-content-center" style="height:5em; float: right; left: 36em; width: 9em;"
                 th:if="*{username}">
                <a class="btn btn-outline-secondary border-0 w-100 d-flex justify-content-center align-items-center" th:href="@{/tai-khoan/{username}(username=*{username})}">
                    <img th:src="'data:image/jpeg;base64,'+ *{avatar1}" class="rounded-circle" style="width: 2.5em; height: 2.5em">
                    <p th:text="*{username}" style="font-size: 15px; margin:3px"></p>
                </a>
                <div class="dropdown">
                    <button class="btn border-0 dropdown-toggle" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <li><a th:href="@{/cap-nhat-thong-tin}" class="dropdown-item" type="button">Cập nhật thông tin</a></li>
                        <li><a th:href="@{/doi-mat-khau}" class="dropdown-item" type="button">Đổi mật khẩu</a></li>
                        <li><a th:href="@{/logout}" class="dropdown-item" type="button">Đăng xuất</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-1 d-flex align-items-center" style="height:5em; float: right; left: 36em"
                 th:unless="*{username}">
                <a type="button" class="btn btn-outline-dark" th:href="@{/login}">Đăng Nhập</a>
            </div>
        </div>
    </div>
</header>

<div class="col-sm-12">
    <div class="container">

    </div>
</div>

<div class="col-sm-12">
    <div class="col-sm-12 d-flex justify-content-end">
        <div class="col-sm-9">
            <div class="row" style="height: 4em;" >
                <div class="col-sm-3 h-100 form-floating" id="text-search-article">
                    <input type="text" class="form-control form-group h-100" id="text-admin">
                    <label for="text-admin">Nhập thông tin</label>
                </div>
                <div class="col-sm-3 h-100 form-floating" style="display:none;" id="price-search-article">
                    <select name="gia" class="form-select form-control"
                            aria-label="Floating label select example" id="select-price-admin">
                        <option value="0" selected>Tất cả</option>
                        <option value="1">1 - 3 triệu</option>
                        <option value="2">3 - 5 triệu</option>
                        <option value="3">5 - 10 triệu</option>
                        <option value="4">10 - 20 triệu</option>
                        <option value="5">20 - 50 triệu</option>
                        <option value="6">50 - 100 triệu</option>
                        <option value="7">100 - 500 triệu</option>
                        <option value="8">0,5 - 1 tỉ</option>
                        <option value="9">1 - 2 tỉ</option>
                        <option value="10">2 - 5 tỉ</option>
                        <option value="11">5 - 10 tỉ</option>
                        <option value="12">10 - 20 tỉ</option>
                        <option value="13">20 - 30 tỉ</option>
                        <option value="15">> 30 tỉ</option>
                    </select>
                    <label for="select-price-admin">Mức Giá</label>
                </div>
                <div class="col-sm-3 h-100 form-floating" style="display: none" id="area-search-article">
                    <select name="dien-tich" class="form-select form-control"
                            aria-label="Floating label select example" id="select-area-admin">
                        <option value="" selected>Tất cả</option>
                        <option value="20">0 - 20 m2</option>
                        <option value="30">20 - 30 m2</option>
                        <option value="50">30 - 50 m2</option>
                        <option value="80">50 - 80 m2</option>
                        <option value="100">80 - 100 m2</option>
                        <option value="150">100 - 150 m2</option>
                        <option value="200">150 - 200 m2</option>
                        <option value="300">200 - 300m2</option>
                        <option value="500">300 - 500 m2</option>
                        <option value="501">> 500 m2</option>
                    </select>
                    <label for="select-area-admin">Diện tích</label>
                </div>
                <div class="col-sm-3 h-100 form-floating">
                    <select name="select" class="form-group form-control form-select h-100"  onchange="selectFieldArticle()"
                            aria-label="Floating label select example" id="select_article_search">
                        <option value="0" selected>Tìm tất cả</option>
                        <option value="1">ID</option>
                        <option value="2">Tiêu đề</option>
                        <option value="3">Thành phố</option>
                        <option value="4">Diện tích</option>
                        <option value="5">Giá tiền</option>
                        <option value="6">Đã xóa</option>
                    </select>
                    <label for="select_article_search">Tìm kiếm theo</label>
                </div>
                <div class="col-sm-1 h-100">
                    <button type="button" class="btn btn-outline-info h-100" onclick="searchArticleAdmin()">TÌM KIẾM</button>
                </div>
                <div class="col-sm-1 d-flex float-end h-100" style="left: 30%">
                    <a class="btn btn-outline-danger form-control form-group float-end d-flex align-items-center justify-content-center h-100">
                        <i class="glyphicon glyphicon-trash" onclick="deleteArticleAdmin()"> Xóa</i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-3 border-end" style="width: 20%; margin-top: 3em; font-size: 15px; font-weight: 600">
            <a href="http://localhost:8080/quan-ly/home">
                <div class="col-sm-12 border-bottom d-flex align-items-center p-4 btn-outline-secondary">
                    <i class="glyphicon glyphicon-home"> Trang chủ </i>
                </div>
            </a>
            <a href="http://localhost:8080/quan-ly/quan-ly-tai-khoan">
                <div class="col-sm-12 border-bottom btn-outline-secondary d-flex align-items-center p-4">
                    <i class="glyphicon glyphicon-user"> Danh sách người dùng</i>
                </div>
            </a>
            <a href="http://localhost:8080/quan-ly/quan-ly-bai-viet" class="active">
                <div class="col-sm-12 border-bottom d-flex align-items-center p-4 btn-outline-secondary active">
                    <i class="glyphicon glyphicon-edit"> Danh sách bài viết</i>
                </div>
            </a>

        </div>
        <div class="col-sm-9 border-bottom-0 border" style="width: 80%;">
            <div class="container m-5" id="list-articles">
                    <table class="table table-hover" style="font-size: 15px">
                        <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col" style="width: 20%">Tiêu đề</th>
                            <th scope="col">Thành phố</th>
                            <th scope="col">Diện tích</th>
                            <th scope="col">Giá tiền</th>
                            <th scope="col">Ngày đăng</th>
                            <th scope="col"></th>
                            <th scope="col">SELECT</th>
                        </tr>
                        </thead>
                        <tbody id="articles">
                        <tr th:each="a : ${articles}" style="height: 5em; overflow: hidden">
                            <a th:href="@{/detail/{id}(id=*{a.articleId})}">
                            <td scope="row"><p th:text="*{a.articleId}"></p></td>
                            <td class="overflow-hidden"><p th:text="*{a.title}"></p></td>
                            <td> <p th:text="*{a.city}"></p> </td>
                            <td> <p th:text="*{a.area}"></p> </td>
                            <td> <p th:text="*{a.price}"></p> </td>
                            <td> <p th:text="*{a.date_up}"></p> </td>
                            <td> <a th:href="@{chi-tiet-bai-viet/{id}(id=*{a.articleId})}">Xem chi tiết</a></td>
                            <td >
                                <input type="checkbox" name="xoa" th:value="*{a.articleId}" th:if="*{a.deleted}" checked>
                                <input type="checkbox" name="xoa" th:value="*{a.articleId}" th:unless="*{a.deleted}">
                            </td>
                            </a>
                        </tr>
                        </tbody>
                    </table>
            </div>
        </div>
    </div>
</div>



<script th:src="@{/javascript/jquery-3.6.0.min.js}" type="text/javascript"></script>
<script th:src="@{/javascript/ajax.js}"></script>
<script th:src="@{/javascript/js.js}"></script>

</body>
</html>